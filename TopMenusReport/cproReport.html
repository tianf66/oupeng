
<!DOCTYPE html>
<html style="overflow: visible;">
<head>
    <meta charset="utf-8"/>
    <title>union</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <link rel="stylesheet" href="./../dep/esui/3.2.0-beta.1/demo/assets/google-code-prettify/prettify.css"/>
    <link rel="stylesheet" href="./../assets/themes/standard.css" />
    <link rel="stylesheet" href="./css/main.css"/>
        <link rel="stylesheet" href="./css/asset-main.css">
        <link rel="icon" href="http://www.baidu.com/favicon.ico" />
        <script src="./js/echarts.min.js"></script>
        <script src="./js/esl.js"></script>
        <style>
            .ui-chartserieselector-layer, .ui-togglesubmitabletablerichselector-layer {
                display: none;
            }
            .richselector-submit  {
                text-align: center;
                width: 46px;
                height: 20px;
                line-height: 20px;
                font-size: 12px;
                margin-top: 10px;
                float: right;
                background: rgb(120, 132, 156);
                border-style: solid;
                border-color: rgb(120, 132, 156);
                border-width: 1px;
                color: rgb(255, 255, 255);
            }
            a:hover {
                color: rgb(0, 102, 204);
            }
        </style>
        <!-- <script src="./js/echarts.min.js"></script> -->
        <!-- <script src="./js/babel-support.js"></script> -->
    <script>
        // document.domain = 'baidu.com';
        // ../image/esui-monthview-prev-icon.png
    </script>
<script data-require-id="jquery/jquery.min" src="./../dep/jquery/1.9.1/src/jquery.min.js" async=""></script>
<script data-require-id="esui/main" src="./../dep/esui/3.2.0-beta.1/src/main.js" async=""></script>
<script data-require-id="esui/Pager" src="./../dep/esui/3.2.0-beta.1/src/Pager.js" async=""></script>
<script data-require-id="esui/Tab" src="./../dep/esui/3.2.0-beta.1/src/Tab.js" async=""></script>
<script data-require-id="esui/lib" src="./../dep/esui/3.2.0-beta.1/src/lib.js" async=""></script>
<script data-require-id="esui/Control" src="./../dep/esui/3.2.0-beta.1/src/Control.js" async=""></script>
<script data-require-id="esui/painters" src="./../dep/esui/3.2.0-beta.1/src/painters.js" async=""></script>
<script data-require-id="esui/Select" src="./../dep/esui/3.2.0-beta.1/src/Select.js" async=""></script>
<script data-require-id="esui/ViewContext" src="./../dep/esui/3.2.0-beta.1/src/ViewContext.js" async=""></script>
<script data-require-id="esui/ControlCollection" src="./../dep/esui/3.2.0-beta.1/src/ControlCollection.js" async=""></script>
<script data-require-id="esui/lib/attribute" src="./../dep/esui/3.2.0-beta.1/src/lib/attribute.js" async=""></script>
<script data-require-id="esui/lib/class" src="./../dep/esui/3.2.0-beta.1/src/lib/class.js" async=""></script>
<script data-require-id="esui/lib/date" src="./../dep/esui/3.2.0-beta.1/src/lib/date.js" async=""></script>
<script data-require-id="esui/lib/dom" src="./../dep/esui/3.2.0-beta.1/src/lib/dom.js" async=""></script>
<script data-require-id="esui/lib/event" src="./../dep/esui/3.2.0-beta.1/src/lib/event.js" async=""></script>
<script data-require-id="esui/lib/lang" src="./../dep/esui/3.2.0-beta.1/src/lib/lang.js" async=""></script>
<script data-require-id="esui/lib/page" src="./../dep/esui/3.2.0-beta.1/src/lib/page.js" async=""></script>
<script data-require-id="esui/lib/string" src="./../dep/esui/3.2.0-beta.1/src/lib/string.js" async=""></script>
<script data-require-id="esui/SafeWrapper" src="./../dep/esui/3.2.0-beta.1/src/SafeWrapper.js" async=""></script>
<script data-require-id="esui/Helper" src="./../dep/esui/3.2.0-beta.1/src/Helper.js" async=""></script>
<script data-require-id="esui/inheritEventTarget" src="./../dep/esui/3.2.0-beta.1/src/inheritEventTarget.js" async=""></script>
<script data-require-id="esui/helper/children" src="./../dep/esui/3.2.0-beta.1/src/helper/children.js" async=""></script>
<script data-require-id="esui/helper/dom" src="./../dep/esui/3.2.0-beta.1/src/helper/dom.js" async=""></script>
<script data-require-id="esui/helper/event" src="./../dep/esui/3.2.0-beta.1/src/helper/event.js" async=""></script>
<script data-require-id="esui/helper/html" src="./../dep/esui/3.2.0-beta.1/src/helper/html.js" async=""></script>
<script data-require-id="esui/helper/life" src="./../dep/esui/3.2.0-beta.1/src/helper/life.js" async=""></script>
<script data-require-id="esui/helper/template" src="./../dep/esui/3.2.0-beta.1/src/helper/template.js" async=""></script>
<script data-require-id="mini-event/Event" src="./../dep/mini-event/1.0.2/src/Event.js" async=""></script><script data-require-id="mini-event/lib" src="./../dep/mini-event/1.0.2/src/lib.js" async=""></script><script data-require-id="esui/templateEngine" src="./../dep/esui/3.2.0-beta.1/src/templateEngine.js" async=""></script>
<script data-require-id="mini-event/EventTarget" src="./../dep/mini-event/1.0.2/src/EventTarget.js" async=""></script>
<script data-require-id="mini-event/EventQueue" src="./../dep/mini-event/1.0.2/src/EventQueue.js" async=""></script>
<script data-require-id="esui/InputControl" src="./../dep/esui/3.2.0-beta.1/src/InputControl.js" async=""></script>
<script data-require-id="esui/Layer" src="./../dep/esui/3.2.0-beta.1/src/Layer.js" async=""></script>
<script data-require-id="esui/Validity" src="./../dep/esui/3.2.0-beta.1/src/Validity.js" async=""></script>
<script data-require-id="esui/validator/Validity" src="./../dep/esui/3.2.0-beta.1/src/validator/Validity.js" async=""></script>
<script data-require-id="esui/behavior/jquery-ui" src="./../dep/esui/3.2.0-beta.1/src/behavior/jquery-ui.js" async=""></script>
<style>
    .ui-rangecalendar-arrow {
        position: absolute;
    }
</style>
</head>
<body>
<script>
    document.createElement('aside');
    document.createElement('footer');
    document.createElement('header');
    document.createElement('nav');
    document.createElement('section');
    document.createElement('article');
    document.createElement('figure');
    document.createElement('figcaption');
</script>
<div id="page-container" class="page-container">
    <div class="page-content report-page ssp-report-package">
         <!-- id="main" -->
        <div class="ssp-report-page union-report-cpro">
            <div class="ssp-report-header page-crumb">
                <div data-ui-type="Crumb" data-ui-id="crumb" id="ctrl-report-cpro-crumb" data-ctrl-id="crumb" data-ctrl-view-context="report-cpro" class="ui-ctrl ui-crumb">
                    <span class="ui-crumb-node ui-crumb-node-first ui-crumb-node-last" data-index="0">
                        网盟推广合作网页版报告
                    </span>
                </div>
                <div class="ssp-report-dock">
                    <div id="ssp-date" data-ui-type="RangeCalendar" lass="ui-rangecalendarwithcontrast ui-ctrl ui-rangecalendar" data-ui-mini-mode="1" data-ui-variants="bordered" <="" div="" data-ui-range="2019-12-30 23:59:59,1983-09-01 00:00:00" style="width: 190px"></div>

                    <!-- <div data-ui-type="RangeCalendar" class="ui-rangecalendarwithcontrast ui-ctrl ui-rangecalendar" data-ui-variants="bordered" <="" div=""></div> -->
                    <esui-button data-ui-id="download" data-ui-group="report-operation" class="ssp-report-download ui-ctrl ui-button" title="下载报告" id="ctrl-report-cpro-download" data-ctrl-id="download" data-ctrl-view-context="report-cpro">
                        <i class="ui-icon-download"></i>
                    </esui-button>
                    <esui-button data-ui-id="email" data-ui-group="report-operation" class="ssp-report-email ui-ctrl ui-button" title="设置邮件定时发送报告" id="ctrl-report-cpro-email" data-ctrl-id="email" data-ctrl-view-context="report-cpro">
                        <i class="ui-icon-envelope"></i>
                    </esui-button>
                    <esui-button data-ui-id="save" data-ui-group="report-operation" class="ssp-report-save ui-ctrl ui-button" title="保存为报告模板" id="ctrl-report-cpro-save" data-ctrl-id="save" data-ctrl-view-context="report-cpro">
                        <i class="ui-icon-save"></i>
                    </esui-button>
                </div>
            </div>
            <div class="ssp-report-view">
                <section class="ssp-report-section ssp-report-general-section">
                    <div data-ui-type="ActionPanel" data-ui-id="report-general" data-ui-url="@generalActionURL"
                    data-ui-action-options="@generalActionOptions" id="ctrl-report-cpro-report-general"
                    data-ctrl-id="report-general" data-ctrl-view-context="report-cpro" class="ui-ctrl ui-actionpanel report-page ssp-report-package">
                        <div class="ssp-report-general union-report-general">
                            <ul class="general-detail">
                                <li class="general-detail-item general-detail-item-view">
                                    <p class="general-detail-item-name">
                                        总代码位展现量
                                        <span class="ui-ctrl ui-tip" data-ui="type:Tip;id:over-tip-normal;content:指合作网站上放置的网盟推广合作代码位被浏览的次数。;arrow:1;showMode:over;"></span>
                                    </p>
                                    <p class="general-detail-item-base">
                                        <span id="viewCountSum" class="general-detail-item-data">0</span>
                                    </p>
                                    <p class="general-detail-item-average-value">
                                        平均代码位展现量：<span id="viewCountAverage">0</span>
                                    </p>
                                </li>
                                <li class="general-detail-item general-detail-item-view">
                                    <p class="general-detail-item-name">
                                        总页面展现量
                                        <span class="ui-ctrl ui-tip" data-ui="type:Tip;id:over-tip-normal;content:指合作网站被浏览的次数。;arrow:1;showMode:over;"></span>
                                    </p>
                                    <p class="general-detail-item-base">
                                        <span id="pageViewCountSum" class="general-detail-item-data">0</span>
                                    </p>
                                    <p class="general-detail-item-average-value">
                                        平均页面展现量：<span id="pageViewCountAverage">0</span>
                                    </p>
                                </li>
                                <li class="general-detail-item general-detail-item-click">
                                    <p class="general-detail-item-name">
                                        总点击量
                                        <span class="ui-ctrl ui-tip" data-ui="type:Tip;id:over-tip-normal;content:指合作网站访客点击网盟推广合作代码位的次数。;arrow:1;showMode:over;"></span>
                                    </p>
                                    <p class="general-detail-item-base">
                                        <span id="clickCountSum" class="general-detail-item-data">0</span>
                                    </p>
                                    <p class="general-detail-item-average-value">
                                        平均点击量：<span id="clickCountAverage">0</span>
                                    </p>
                                </li>
                                <li class="general-detail-item general-detail-item-click-ratio">
                                    <p class="general-detail-item-name">
                                        总点击率
                                        <span class="ui-ctrl ui-tip" data-ui="type:Tip;id:over-tip-normal;content:指点击次数与展现量的百分比，是衡量网盟推广合作效果好坏的重要标准。;arrow:1;showMode:over;"></span>
                                    </p>
                                    <p class="general-detail-item-base">
                                        <span id="ctr" class="general-detail-item-data">--</span>
                                    </p>
                                    <p class="general-detail-item-average-value">
                                        平均点击率：<span id="ctrAverage">0</span>%
                                    </p>
                                </li>
                                <li class="general-detail-item general-detail-item-ecpm">
                                    <p class="general-detail-item-name">
                                        eCPM
                                        <span class="ui-ctrl ui-tip" data-ui="type:Tip;id:over-tip-normal;content:指合作网站上放置的网盟推广合作代码位被展现1000次时所获得的收入。请注意，此数据为参考数据，是通过统计数据计算而得到。;arrow:1;showMode:over;"></span>
                                    </p>
                                    <p class="general-detail-item-base">
                                        <span id="ecpm" class="general-detail-item-data">--</span>
                                    </p>
                                    <p class="general-detail-item-average-value">
                                        平均eCPM：<span id="ecpmAverage">0.00</span>
                                    </p>
                                </li>
                                <li class="general-detail-item general-detail-item-income">
                                    <p class="general-detail-item-name">
                                        预估总收入
                                        <span class="ui-ctrl ui-tip" data-ui="type:Tip;id:over-tip-normal;content:指您从百度获得的该数据项目税前预估现金收入。;arrow:1;showMode:over;"></span>
                                    </p>
                                    <p class="general-detail-item-base">
                                        <span id="incomeSum" class="general-detail-item-data">--</span>
                                    </p>
                                    <p class="general-detail-item-average-value">
                                        预估平均收入：<span id="incomeAverage">0.00</span>
                                    </p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </section>
                <esui-box-group data-ui-id="sub-report-switch" data-ui-box-type="radio" data-ui-value="@activeDimension" data-ui-skin="report-tab" id="ctrl-report-cpro-sub-report-switch" data-ctrl-id="sub-report-switch" data-ctrl-view-context="report-cpro" class="ui-ctrl ui-boxgroup skin-report-tab skin-report-tab-boxgroup ui-boxgroup-horizontal state-horizontal skin-report-tab-horizontal skin-report-tab-boxgroup-horizontal">
                    <label id="TopMenusReport" title="分日" class="ui-boxgroup-radio skin-report-tab-boxgroup-radio ui-boxgroup-wrapper skin-report-tab-boxgroup-wrapper">
                        <input type="radio" name="esui8785930" id="ctrl-report-cpro-sub-report-switch-box-0"
                        title="分日" value="day" checked="checked">
                        <span>
                            分日
                        </span>
                    </label>
                    <label title="分计费名" class="ui-boxgroup-radio skin-report-tab-boxgroup-radio ui-boxgroup-wrapper skin-report-tab-boxgroup-wrapper">
                        <input type="radio" name="esui8785930" id="ctrl-report-cpro-sub-report-switch-box-1"
                        title="分计费名" value="c">
                        <span>
                            分计费名
                        </span>
                    </label>
                    <label id="cproReport" title="分代码位" class="ui-boxgroup-radio skin-report-tab-boxgroup-radio ui-boxgroup-wrapper skin-report-tab-boxgroup-wrapper ui-boxgroup-wrapper-checked skin-report-tab-boxgroup-wrapper-checked">
                        <input type="radio" name="esui8785930" id="ctrl-report-cpro-sub-report-switch-box-2"
                        title="分代码位" value="adPosition">
                        <span>
                            分代码位
                        </span>
                    </label>
                    <label title="分媒体" class="ui-boxgroup-radio skin-report-tab-boxgroup-radio ui-boxgroup-wrapper skin-report-tab-boxgroup-wrapper">
                        <input type="radio" name="esui8785930" id="ctrl-report-cpro-sub-report-switch-box-3"
                        title="分媒体" value="tm">
                        <span>
                            分媒体
                        </span>
                    </label>
                </esui-box-group>
                <section class="ssp-report-section ssp-report-chart-section">
                    <div data-ui-type="ActionPanel" data-ui-id="report-line-chart" data-ui-url="@chartActionURL" data-ui-action-options="@lineChartActionOptions" data-ui-group="chart"id="ctrl-report-cpro-report-line-chart" data-ctrl-id="report-line-chart" data-ctrl-view-context="report-cpro" class="ui-ctrl ui-actionpanel report-page ssp-report-package">
                        <div class="ssp-report-chart-head">
                            <div class="ssp-report-chart-title"></div>
                            <div id="ChartSerieSelector"
                                data-ui-type="ChartSerieSelector" data-ui-id="chart-serie-selector"
                                data-ui-contrast="@isContrast" data-ui-datasource="@fields" data-ui-selected-series="@selectedFields"
                                data-ui-multi="false" id="ctrl-report-chart-chart-serie-selector" data-ctrl-id="chart-serie-selector"
                                data-ctrl-view-context="report-chart" class="ui-ctrl ui-chartserieselector">
                                    <div id="ctrl-report-chart-chart-serie-selector-legend-wrapper" class="ui-chartserieselector-legend-wrapper">
                                        <div class="ui-chartserieselector-legend-left">
                                            <div id="ctrl-report-chart-chart-serie-selector-serie-color-row" class="ui-chartserieselector-serie-color-row">
                                                <div id="legendColor" style="background:#4db6ac" class="ui-chartserieselector-serie-color-item ui-chartserieselector-serie-color-base">
                                                </div>
                                                <div style="background:#b2dfdb" class="ui-chartserieselector-serie-color-item ui-chartserieselector-serie-color-contrast">
                                                </div>
                                            </div>
                                            <span id="legendText" class="ui-chartserieselector-legend-text">
                                                代码位展现量
                                            </span>
                                        </div>
                                    </div>
                                    <div id="ctrl-report-chart-chart-serie-selector-seperator" class="ui-chartserieselector-seperator">
                                        |
                                    </div>
                                    <div id="ctrl-report-chart-chart-serie-selector-arrow" class="ui-chartserieselector-arrow">
                                    </div>
                                </div>
                        </div>
                        <div id="myEcharts" style="width: 100%;height:300px;"></div>
                    </div>
                </section>
                <section class="ssp-report-section">
                    <div data-ui-type="ActionPanel" data-ui-id="report-list" data-ui-url="@listActionURL" data-ui-action-options="@listActionOptions" id="ctrl-report-cpro-report-list" data-ctrl-id="report-list" data-ctrl-view-context="report-cpro" class="ui-ctrl ui-actionpanel list-page report-page report-list-page ssp-report-package ssp-report-package-list">
                        <div class="list-view ssp-report-list">
                            <div class="list-meta">
                            <div class="list-filter">
                                    <div class="list-filter-fields">
                                        <esui-button data-ui-id="filter-switch" data-ui-skin="select" id="ctrl-report-list-filter-switch"
                                        data-ctrl-id="filter-switch" data-ctrl-view-context="report-list" class="ui-ctrl ui-button skin-select skin-select-button ui-button-expand state-expand skin-select-expand skin-select-button-expand">
                                            筛选
                                        </esui-button>
                                    </div>
                                </div>
                            </div>
                            <form data-ui-type="Form" class="list-filter-panel ui-ctrl ui-form" data-ui-id="filter"
                                data-ui-hidden="true" novalidata="novalidate" id="ctrl-report-list-filter"
                                data-ctrl-id="filter" data-ctrl-view-context="report-list">
                                    <esui-panel data-ui-id="list-filter-select-panel" data-ui-group="filter-content"
                                    class="list-filter-select-fields ui-ctrl ui-panel" id="ctrl-report-list-list-filter-select-panel"
                                    data-ctrl-id="list-filter-select-panel" data-ctrl-view-context="report-list">
                                        <div class="list-filter-field">
                                            <esui-label class="list-filter-field-label ui-ctrl ui-label" id="ctrl-report-list-esui8786355"
                                            data-ctrl-id="esui8786355" data-ctrl-view-context="report-list" title="">
                                                代码位：
                                            </esui-label>
                                            <div class="form-field-value">
                                                <div data-ui-type="ToggleSubmitableTableRichSelector" data-ui-id="adPosition"
                                                data-ui-name="adPosition" data-ui-datasource="@filterConfigs.0.datasource"
                                                data-ui-raw-value="@filterConfigs.0.value" data-ui-default-text="请选择" id="ctrl-report-list-adPosition"
                                                data-ctrl-id="adPosition" data-ctrl-view-context="report-list" class="ui-ctrl ui-togglesubmitabletablerichselector">
                                                    <div class="ui-togglesubmitabletablerichselector-text" id="ctrl-report-list-adPosition-text">
                                                        请选择
                                                    </div>
                                                    <div class="ui-togglesubmitabletablerichselector-arrow">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </esui-panel>
                                    <esui-panel data-ui-id="list-filter-selected-panel" data-ui-group="filter-content"
                                    data-ui-hidden="true" class="list-filter-selected-fields ui-ctrl ui-panel ui-panel-hidden state-hidden"
                                    id="ctrl-report-list-list-filter-selected-panel" data-ctrl-id="list-filter-selected-panel"
                                    data-ctrl-view-context="report-list">
                                        <esui-label class="list-filter-field-label ui-ctrl ui-label" id="ctrl-report-list-esui8786378"
                                        data-ctrl-id="esui8786378" data-ctrl-view-context="report-list" title="">
                                            筛选条件：
                                        </esui-label>
                                    </esui-panel>
                                    <div class="list-filter-operation">
                                        <button type="submit" data-ui-type="Button" data-ui-id="filter-submit"
                                        data-ui-group="filter-content" id="ctrl-report-list-filter-submit" data-ctrl-id="filter-submit"
                                        data-ctrl-view-context="report-list" class="ui-ctrl ui-button">
                                            确定
                                        </button>
                                        <esui-button data-ui-id="filter-modify" data-ui-group="filter-content"
                                        data-ui-hidden="true" id="ctrl-report-list-filter-modify" data-ctrl-id="filter-modify"
                                        data-ctrl-view-context="report-list" class="ui-ctrl ui-button ui-button-hidden state-hidden">
                                            修改
                                        </esui-button>
                                        <esui-button data-ui-id="filter-cancel" data-ui-skin="link" id="ctrl-report-list-filter-cancel"
                                        data-ctrl-id="filter-cancel" data-ctrl-view-context="report-list" class="ui-ctrl ui-button skin-link skin-link-button">
                                            取消
                                        </esui-button>
                                    </div>
                                </form>
                            <div class="list-meta">
                                <div class="list-filter">
                                </div>
                            </div>
                            <div id="ctrl-report-list-table-top-placeholder" style="width: 100%; display: none; height: 0px;">
                            </div>
                            <!--

                                        Table
                                 -->
                            <esui-table data-ui-id="table" data-ui-fields="@listFields" data-ui-datasource="@results" data-ui-extension-command-type="Command" data-ui-order-by="@orderBy" data-ui-order="@order" data-ui-select="@selectMode" data-ui-skin="noGrid" id="ctrl-report-list-table" data-ctrl-id="table" data-ctrl-view-context="report-list" class="ui-ctrl ui-table skin-noGrid skin-noGrid-table" style="width: 100%;">
                                <div id="ctrl-report-list-table-head" class="ui-table-head skin-noGrid-table-head" data-control-table="table" style="width: 100%; top: 0px; left: 0px;">
                                    <div id="ctrl-report-list-table-head-panel" data-ui="type:Panel;id:ctrl-report-list-table-head-panel;" data-ctrl-id="ctrl-report-list-table-head-panel" data-ctrl-view-context="report-list" class="ui-ctrl ui-panel">
                                        <table cellpadding="0" cellspacing="0" width="100%" data-control-table="table">
                                            <tbody>
                                                <tr>
                                                    <th id="ctrl-report-list-table-title-cell0" data-index="0" class="ui-table-hcell skin-noGrid-table-hcell ui-table-hcell-sort skin-noGrid-table-hcell-sort ui-table-hcell-desc skin-noGrid-table-hcell-desc ui-table-cell-break skin-noGrid-table-cell-break"
                                                    data-sortable="1" style="width:20%">
                                                        <div class="ui-table-hcell-text skin-noGrid-table-hcell-text ui-table-hcell-text-first skin-noGrid-table-hcell-text-first">
                                                            代码位
                                                            <div class="ui-table-hsort skin-noGrid-table-hsort">
                                                            </div>
                                                        </div>
                                                    </th>
                                                    <th id="ctrl-report-list-table-title-cell1" data-index="1" class="ui-table-hcell skin-noGrid-table-hcell ui-table-hcell-sort skin-noGrid-table-hcell-sort ui-table-cell-break skin-noGrid-table-cell-break"
                                                    data-sortable="1" style="width:16%;">
                                                        <div class="ui-table-hcell-text skin-noGrid-table-hcell-text">
                                                            代码位展现量
                                                            <div class="ui-table-hsort skin-noGrid-table-hsort">
                                                            </div>
                                                        </div>
                                                    </th>
                                                    <th id="ctrl-report-list-table-title-cell3" data-index="3" class="ui-table-hcell skin-noGrid-table-hcell ui-table-hcell-sort skin-noGrid-table-hcell-sort ui-table-cell-break skin-noGrid-table-cell-break"
                                                    data-sortable="1" style="width:16%;">
                                                        <div class="ui-table-hcell-text skin-noGrid-table-hcell-text">
                                                            点击量
                                                            <div class="ui-table-hsort skin-noGrid-table-hsort">
                                                            </div>
                                                        </div>
                                                    </th>
                                                    <th id="ctrl-report-list-table-title-cell4" data-index="4" class="ui-table-hcell skin-noGrid-table-hcell ui-table-hcell-sort skin-noGrid-table-hcell-sort ui-table-cell-break skin-noGrid-table-cell-break"
                                                    data-sortable="1" style="width:16%;">
                                                        <div class="ui-table-hcell-text skin-noGrid-table-hcell-text">
                                                            点击率
                                                            <div class="ui-table-hsort skin-noGrid-table-hsort">
                                                            </div>
                                                        </div>
                                                    </th>
                                                    <th id="ctrl-report-list-table-title-cell5" data-index="5" class="ui-table-hcell skin-noGrid-table-hcell ui-table-hcell-sort skin-noGrid-table-hcell-sort ui-table-cell-break skin-noGrid-table-cell-break"
                                                    data-sortable="1" style="width:16%;">
                                                        <div class="ui-table-hcell-text skin-noGrid-table-hcell-text">
                                                            eCPM
                                                            <div class="ui-table-hsort skin-noGrid-table-hsort">
                                                            </div>
                                                        </div>
                                                    </th>
                                                    <th id="ctrl-report-list-table-title-cell6" data-index="6" class="ui-table-hcell skin-noGrid-table-hcell ui-table-hcell-sort skin-noGrid-table-hcell-sort ui-table-cell-break skin-noGrid-table-cell-break"
                                                    data-sortable="1" style="width:16%;">
                                                        <div class="ui-table-hcell-text skin-noGrid-table-hcell-text ui-table-hcell-text-last skin-noGrid-table-hcell-text-last">
                                                            收入
                                                            <div class="ui-table-hsort skin-noGrid-table-hsort">
                                                            </div>
                                                        </div>
                                                    </th>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div id="ctrl-report-list-table-body" class="ui-table-body skin-noGrid-table-body" style="overflow: auto; width: 100%; height: 100%;">
                                    <div id="todayTable"></div>
                                </div>
                            </esui-table>
                            <div class="list-pager">
                                <div id="pager-dynamic"></div>
                                <esui-pager data-ui-id="pager" data-ui-count="@totalCount" data-ui-page="@page"
                                data-ui-page-size="@pageSize" data-ui-page-type="plain" data-ui-layout="alignRight"
                                id="ctrl-report-list-pager" data-ctrl-id="pager" data-ctrl-view-context="report-list"
                                class="ui-ctrl ui-pager" style="overflow: visible;">
                                    <div id="ctrl-report-list-pager-pager-wrapper" class="ui-pager-alignRight">
                                        <div id="ctrl-report-list-pager-select-wrapper" class="ui-pager-select-wrapper" style="position: relative">
                                            <span id="ctrl-report-list-pager-label" class="ui-pager-label">
                                                每页显示
                                            </span>
                                            <div data-ui="type:Select;childName:select;id:ctrl-report-list-pager-select;width:40;"
                                            tabindex="0" id="ctrl-report-list-ctrl-report-list-pager-select" data-ctrl-id="ctrl-report-list-pager-select"
                                            data-ctrl-view-context="report-list" class="ui-ctrl ui-select" style="width: 40px;">
                                                <span id="ctrl-report-list-ctrl-report-list-pager-select-text" class="ui-select-text">
                                                    20
                                                </span>
                                                <span id="ctrl-default-ctrl-default-test1-selectPager-arrow" class="ui-select-arrow ui-icon" style="line-height: 1.6em; left: 2em; right: auto; width: 1.8rem"></span>
                                            </div>

                                            <ol id="ctrl-default-ctrl-default-test1-select-layer" class="ui-select-layer ui-layer" style="z-index: 1; min-width: 60px; bottom: 30px; right: -20px; display: none">
                                                <li data-index="0" class="ui-select-item ui-select-item-selected"><span>20</span></li>
                                                <li data-index="1" class="ui-select-item"><span>30</span></li>
                                                <li data-index="2" class="ui-select-item"><span>50</span></li>
                                                <li data-index="3" class="ui-select-item"><span>100</span></li>
                                            </ol>
                                        </div>
                                    </div>
                                </esui-pager>
                                <span id="pager-count" class="pager-count">
                                    <!--  -->
                                </span>
                                <span class="report-table-tip-info">
                                    温馨提示：只显示有数据内容，无数据内容已被过滤。
                                </span>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
</div>
<!-- <div id="ctrl-report-chart-chart-serie-selector-layer" -->
            <div id="ctrl-report-chart-chart-serie-selector-layer" class="ui-chartserieselector-layer ui-layer ui-chartserieselector-active state-active" style="z-index: 1; min-width: 200px; top: 304px; right: 30px;">
                <div id="ctrl-report-chart-chart-serie-selector-serie-body" class="ui-chartserieselector-serie-body">
                    <div data-ui="type:BoxGroup;childName:serieSelector;boxType:radio;orientation:vertical;skin:flat"
                    class="ui-chartserieselector-serie-selector ui-ctrl ui-boxgroup skin-flat skin-flat-boxgroup ui-boxgroup-vertical state-vertical skin-flat-vertical skin-flat-boxgroup-vertical"
                    id="ctrl-report-chart-esui8786276" data-ctrl-id="esui8786276" data-ctrl-view-context="report-chart">
                        <label title="代码位展现量" class="ui-boxgroup-radio skin-flat-boxgroup-radio ui-boxgroup-wrapper skin-flat-boxgroup-wrapper ui-boxgroup-wrapper-checked skin-flat-boxgroup-wrapper-checked">
                            <input type="radio" name="#4db6ac" id="ctrl-report-chart-esui8786276-box-0"
                            title="代码位展现量" value="adPositionView,#4db6ac,代码位展现量">
                            <span>
                                代码位展现量
                            </span>
                        </label>
                        <label title="点击量" class="ui-boxgroup-radio skin-flat-boxgroup-radio ui-boxgroup-wrapper skin-flat-boxgroup-wrapper">
                            <input type="radio" name="#acdd96" id="ctrl-report-chart-esui8786276-box-1"
                            title="点击量" value="click,#acdd96,点击量">
                            <span>
                                点击量
                            </span>
                        </label>
                        <label title="点击率" class="ui-boxgroup-radio skin-flat-boxgroup-radio ui-boxgroup-wrapper skin-flat-boxgroup-wrapper">
                            <input type="radio" name="#ffd155" id="ctrl-report-chart-esui8786276-box-2"
                            title="点击率" value="clickRatio,#ffd155,点击率">
                            <span>
                                点击率
                            </span>
                        </label>
                        <label title="eCPM" class="ui-boxgroup-radio skin-flat-boxgroup-radio ui-boxgroup-wrapper skin-flat-boxgroup-wrapper">
                            <input type="radio" name="#acc1fe" id="ctrl-report-chart-esui8786276-box-3"
                            title="eCPM" value="ecpm,#acc1fe,eCPM">
                            <span>
                                eCPM
                            </span>
                        </label>
                        <label title="收入" class="ui-boxgroup-radio skin-flat-boxgroup-radio ui-boxgroup-wrapper skin-flat-boxgroup-wrapper">
                            <input type="radio" name="#fd2222" id="ctrl-report-chart-esui8786276-box-4"
                            title="收入" value="income,#fd2222,收入">
                            <span>
                                收入
                            </span>
                        </label>
                    </div>
                    <div id="ctrl-report-chart-chart-serie-selector-serie-color-wrapper" class="ui-chartserieselector-serie-color-wrapper">
                        <div id="ctrl-report-chart-chart-serie-selector-serie-color-row" class="ui-chartserieselector-serie-color-row">
                            <div style="background:#4db6ac" class="ui-chartserieselector-serie-color-item ui-chartserieselector-serie-color-base">
                            </div>
                            <div style="background:#b2dfdb" class="ui-chartserieselector-serie-color-item ui-chartserieselector-serie-color-contrast">
                            </div>
                        </div>
                        <div id="ctrl-report-chart-chart-serie-selector-serie-color-row" class="ui-chartserieselector-serie-color-row">
                            <div style="background:#acdd96" class="ui-chartserieselector-serie-color-item ui-chartserieselector-serie-color-base">
                            </div>
                            <div style="background:#cde9c0" class="ui-chartserieselector-serie-color-item ui-chartserieselector-serie-color-contrast">
                            </div>
                        </div>
                        <div id="ctrl-report-chart-chart-serie-selector-serie-color-row" class="ui-chartserieselector-serie-color-row">
                            <div style="background:#ffd155" class="ui-chartserieselector-serie-color-item ui-chartserieselector-serie-color-base">
                            </div>
                            <div style="background:#ffe191" class="ui-chartserieselector-serie-color-item ui-chartserieselector-serie-color-contrast">
                            </div>
                        </div>
                        <div id="ctrl-report-chart-chart-serie-selector-serie-color-row" class="ui-chartserieselector-serie-color-row">
                            <div style="background:#acc1fe" class="ui-chartserieselector-serie-color-item ui-chartserieselector-serie-color-base">
                            </div>
                            <div style="background:#c8d6ff" class="ui-chartserieselector-serie-color-item ui-chartserieselector-serie-color-contrast">
                            </div>
                        </div>
                        <div id="ctrl-report-chart-chart-serie-selector-serie-color-row" class="ui-chartserieselector-serie-color-row">
                            <div style="background:#fd2222" class="ui-chartserieselector-serie-color-item ui-chartserieselector-serie-color-base">
                            </div>
                            <div style="background:#ff7171" class="ui-chartserieselector-serie-color-item ui-chartserieselector-serie-color-contrast">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="ctrl-report-list-adPosition-layer" class="ui-togglesubmitabletablerichselector-layer ui-layer"
                    style="z-index: 1; top: 700px; left: 138px;">
                <div data-ui-type="SubmitableTableRichSelector" data-ui-width="300" data-ui-child-name="selector"
                class="ui-richselector-add state-add ui-table-richselector ui-submitabletablerichselector ui-ctrl ui-richselector ui-richselector-all-unselected state-all-unselected"
                id="ctrl-report-list-esui8786429" data-ctrl-id="esui8786429" data-ctrl-view-context="report-list"
                style="width: 300px;">
                    <div data-ui="type:Panel;childName:body" class="ui-richselector-body ui-ctrl ui-panel"
                    id="ctrl-report-list-esui8786430" data-ctrl-id="esui8786430" data-ctrl-view-context="report-list">
                        <div data-ui="type:Panel;childName:searchBoxArea" class="ui-richselector-search-wrapper ui-ctrl ui-panel"
                        id="ctrl-report-list-esui8786431" data-ctrl-id="esui8786431" data-ctrl-view-context="report-list">
                            <div data-ui="type:SearchBox;childName:itemSearch;" data-ui-skin="magnifier"
                            data-ui-width="245" id="ctrl-report-list-esui8786432" data-ctrl-id="esui8786432"
                            data-ctrl-view-context="report-list" class="ui-ctrl ui-searchbox skin-magnifier skin-magnifier-searchbox"
                            title="">
                                <esui-text-box id="ctrl-report-list-esui8786433" data-ctrl-id="esui8786433"
                                data-ctrl-view-context="report-list" class="ui-ctrl ui-textbox">
                                    <input type="text" id="ctrl-report-list-esui8786433-input" style="width: 245px;">
                                </esui-text-box>
                                <span id="ctrl-report-list-esui8786435" data-ctrl-id="esui8786435" data-ctrl-view-context="report-list"
                                class="ui-ctrl ui-button">
                                    搜索
                                </span>
                            </div>
                        </div>
                        <div data-ui="type:Panel;childName:generalQueryResultArea" class="ui-richselector-query-result-general ui-ctrl ui-panel"
                        id="ctrl-report-list-esui8786437" data-ctrl-id="esui8786437" data-ctrl-view-context="report-list">
                            <span class="ui-richselector-clear-query-link" id="ctrl-report-list-esui8786429-clear-query">
                                清空
                            </span>
                            共找到
                            <span id="ctrl-report-list-esui8786429-result-count">
                            </span>
                            个
                        </div>
                        <div data-ui="type:Panel;childName:content" class="ui-richselector-content-wrapper ui-ctrl ui-panel"
                        id="ctrl-report-list-esui8786438" data-ctrl-id="esui8786438" data-ctrl-view-context="report-list"
                        style="height: 152px;">
                            <div data-ui="type:Label;childName:emptyText" class="ui-richselector-empty-text ui-ctrl ui-label"
                            id="ctrl-report-list-esui8786439" data-ctrl-id="esui8786439" data-ctrl-view-context="report-list"
                            title="">
                                没有相应的搜索结果
                            </div>
                            <div data-ui="type:Panel;childName:queryList" class="ui-richselector-query-list ui-ctrl ui-panel"
                                id="ctrl-report-list-esui8786441" data-ctrl-id="esui8786441" data-ctrl-view-context="report-list">
                                <table border="0" class="ui-richselector-content-table">
                                    <tbody id="reportTbody"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div data-ui="type:Panel;childName:head" class="ui-richselector-head ui-ctrl ui-panel"
                    id="ctrl-report-list-esui8786442" data-ctrl-id="esui8786442" data-ctrl-view-context="report-list">
                        <div id="ctrl-report-list-esui8786429-batch-action-wrapper" class="ui-richselector-batch-action-wrapper">
                            <span class="ui-richselector-batch-action ui-richselector-batch-action-select"
                            id="ctrl-report-list-esui8786429-batch-action-select">
                                全选
                            </span>
                            <span class="ui-richselector-batch-action ui-richselector-batch-action-deselect"
                            id="ctrl-report-list-esui8786429-batch-action-deselect">
                                全不选
                            </span>
                        </div>
                        <div data-ui="type:Button;childName:okBtn" class="richselector-submit" id="ctrl-report-list-esui8786014" data-ctrl-id="esui8786014" data-ctrl-view-context="report-list">确定</div>
                    </div>
                </div>
            </div>
<div id="global-indicator" class="ui-loader ui-loader-bouncers">
    <div class="ui-spinner-bouncer1"></div>
    <div class="ui-spinner-bouncer2"></div>
    <div class="ui-spinner-bouncer3"></div>
</div>
<script src="js/ui.js"></script>
<script src="js/ria.js"></script>
<script src="js/biz.js"></script>
<script src="js/template.js"></script>
<script src="js/jquery.js"></script>
<script src="./../dep/esui/3.2.0-beta.1/demo/assets/loader/esl.js"></script>
<script src="./../assets/config.js"></script>
<script src="./../assets/build/ui.js"></script>
<script src="./../assets/sitemap.js"></script>
<script src="./../dep/esui/3.2.0-beta.1/demo/assets/google-code-prettify/prettify.js"></script>
<script type="text/javascript" src="./../dep/esui/3.2.0-beta.1/demo/demo.js"></script>
<script>
    $('#ChartSerieSelector').on('click', function() {
        $('#ctrl-report-chart-chart-serie-selector-layer').toggle();
    });
    $('#TopMenusReport').on('click', function() {
        $("body",parent.document).find('#myIframe').attr({"src": 'TopMenusReport/iframe.html'});
        $("body",parent.document).find('.loading-box').show();
    });
    $('.form-field-value').on('click', function() {
        $('.ui-togglesubmitabletablerichselector-layer').toggle();
    });

    var myChart = echarts.init(document.getElementById('myEcharts'));

    var pageSize = 20, pageCount = 0, page = 1;
    var option = {};
    var showVc = false, showClk = false, showCtr = true, showEcpm = false, showIcm = false;
    var codeLocationIdJsonArr = [], codeItems = [];

    var url = location.href;
    var params = url.split('?');
    if (params.length > 1) {
        params = params[1].split('&');
        for (var i = 0, len = params.length; i < len; i++) {
            var param = params[i].split('=');
            var key = param[0];
            var value = param[1];
            if (key === 'page') {
                page = parseInt(value, 10);
            }
            else if (key === 'pageSize') {
                pageSize = parseInt(value, 10);
            }
        }
    }

    require(
        [
            'esui',
            'esui/Button',
            'esui/RangeCalendar',
            'esui/RichCalendar',
            'esui/Tip'
        ],
        function (ui) {
            ui.init();
            // ajaxOpt();
        }
    );

    function ajaxOpt(params) {
        /*
            ***GET查询整体统计数据
        */
        $.ajax({
            type: "get",
            url: 'http://172.18.100.177/api/getDataItemTotal',
            data: {
                startDate: params.startDate,
                endDate: params.endDate
            },
            success: function (data) {
                var item = data.data;
                 item.ctr = item.ctr+'%';
                // clickCountSum 总点击量
                // ctr 总点击率
                // ecpm
                // incomeSum 预估总收入
                // pageViewCountSum 总页面展现量
                // viewCountSum //总代码位展现量
                $('#clickCountSum').html(item.clickCountSum ? item.clickCountSum : '0');
                $('#ctr').html(item.ctr ? item.ctr : '--');
                $('#ecpm').html(item.ecpm == '.00' ? '--' : item.ecpm);
                $('#incomeSum').html(item.incomeSum == '.00' ? '--' : item.incomeSum);
                $('#pageViewCountSum').html(item.pageViewCountSum ? item.pageViewCountSum : '0');
                $('#viewCountSum').html(item.viewCountSum ? item.viewCountSum : '0');

                $("body",parent.document).find('.loading-box').hide();
            },
            error: function(err) {
                // alert('请求失败');
            }
        });
        /*
            查询按天的平均统计数据
        */
        $.ajax({
            type: "get",
            url: 'http://172.18.100.177/api/getDataItemAverageByDay',
            data: {
                startDate: params.startDate,
                endDate: params.endDate
            },
            success: function (data) {
                var item = data.data;
                //clickCountAverage//平均点击量
                // ctr 平均点击率 id ctrAverage
                // ecpm ecpmAverage
                // incomeAverage 预估平均收入
                // pageViewCountAverage 平均页面展现量
                // viewCountAverage 平均代码位展现量
                $('#clickCountAverage').html(item.clickCountAverage);
                $('#ctrAverage').html(item.ctr);
                $('#ecpmAverage').html(item.ecpm == '.00' ? '0.00' : item.ecpm);
                $('#incomeAverage').html(item.incomeAverage == '.00' ? '0.00' : item.incomeAverage);
                $('#pageViewCountAverage').html(item.pageViewCountAverage);
                $('#viewCountAverage').html(item.viewCountAverage);
            },
            error: function(err) {
                alert('请求失败');
            }
        });

        /*
            按天查询统计数据
        */

        setTableData(params);
    }

    function setTableData(params, codeLocationIdJsonArr) {
        var data = {
            startDate: params.startDate,
            endDate: params.endDate,
            page: page,
            size: pageSize
        };
        if(codeLocationIdJsonArr) {
            data.codeLocationIdJsonArr = JSON.stringify(codeLocationIdJsonArr);
        }

        $.ajax({
            type: "post",
            url: 'http://172.18.100.177/api/findDataItemListByCodeLocation',
            data: data,
            success: function (data) {
                $("body",parent.document).find('.loading-box').hide();
                var item = data.data.list;
                var totalCount = data.data.totalCount;
                codeItems = item.concat([], data.data);
                // clickCountSum 总点击量
                // ctr 总点击率
                // ecpm
                // incomeSum 预估总收入
                // pageViewCountSum 总页面展现量
                // viewCountSum //总代码位展现量
                var clickCountSumList = new Array;
                var clickCountSumListEcharts = new Array;
                var ctrList = new Array;
                var ctrListEcharts = new Array;
                var ecpmList = new Array;
                var ecpmListEcharts = new Array;
                var incomeSumLit = new Array;
                var incomeSumLitEcharts = new Array;
                var pageViewCountSumList = new Array;
                var pageViewCountSumListEcharts = new Array;
                var viewCountSumList = new Array;
                var viewCountSumListEcharts = new Array;
                var dateList = new Array;
                var itemName = new Array;
                var echartsX = new Array;
                var itemName = new Array;

                var html = '';
                var tbody = '';
                for(var i = 0; i < item.length; i++) {
                    item[i].ctr = item[i].ctr+'%';
                    clickCountSumList.push(item[i].viewCountSum);
                    ctrList.push(item[i].ctr);
                    ecpmList.push(item[i].ecpm);
                    incomeSumLit.push(item[i].incomeSum.split(',').join('') * 1);
                    pageViewCountSumList.push(item[i].pageViewCountSumList);
                    viewCountSumList.push(item[i].viewCountSumList);
                    itemName.push(item[i].name);
                    /*
                        Echarts
                    */
                    if(i < 10) {
                        clickCountSumListEcharts.push(parseInt(item[i].viewCountSum.replace(/,/g,'')));
                        ctrListEcharts.push(parseInt(item[i].ctr.replace(/,/g,'')));
                        ecpmListEcharts.push(parseInt(item[i].ecpm.replace(/,/g,'')));
                        incomeSumLitEcharts.push(parseInt(item[i].incomeSum.replace(/,/g,'')));
                        pageViewCountSumListEcharts.push(parseInt(item[i].pageViewCountSum.replace(/,/g,'')));
                        viewCountSumListEcharts.push(parseInt(item[i].viewCountSum.replace(/,/g,'')));
                        echartsX.push(item[i].name);
                    }
                    html += '<div id="ctrl-report-list-table-row0" class="ui-table-row skin-noGrid-table-row ui-table-row-even skin-noGrid-table-row-even" data-index="0">'+
                            '<table cellpadding="0" cellspacing="0" width="100%" data-control-table="table">'+
                            '<tbody>'+
                            '<tr>'+
                             '<td style="width:20%; id="ctrl-report-list-table-cell0-0" class="ui-table-cell skin-noGrid-table-cell ui-table-cell-break skin-noGrid-table-cell-break" style="width:139px;" data-control-table="table" data-row="0" data-col="0"><div class="ui-table-cell-text skin-noGrid-table-cell-text ui-table-cell-text-first skin-noGrid-table-cell-text-first"><span id="ctrl-report-list-table-cell-textfield-0-0">'+
                            '<a data-command="detail">'+
                            item[i].name+
                            '</a></td>' +
                            '<td id="ctrl-report-list-table-cell0-0" class="ui-table-cell skin-noGrid-table-cell ui-table-cell-break skin-noGrid-table-cell-break ui-table-cell-sorted skin-noGrid-table-cell-sorted"'+
                            'style="width:20%;" data-control-table="table" data-row="0" data-col="0">'+
                            '<div class="ui-table-cell-text skin-noGrid-table-cell-text ui-table-cell-text-first skin-noGrid-table-cell-text-first">'+
                            '<span id="ctrl-report-list-table-cell-textfield-0-0">'+
                            '</span>'+
                            '</div>'+
                            '</td>'+
                            '<td id="ctrl-report-list-table-cell0-1" class="ui-table-cell skin-noGrid-table-cell ui-table-cell-break skin-noGrid-table-cell-break"'+
                            'style="width:16%;" data-control-table="table" data-row="0" data-col="1">'+
                            '<div class="ui-table-cell-text skin-noGrid-table-cell-text">'+
                            '<span id="ctrl-report-list-table-cell-textfield-0-1">'+
                            '<p class="base-item">'+
                            item[i].viewCountSum+
                            '</p>'+
                            '</span>'+
                            '</div>'+
                            '</td>'+
                            '<td id="ctrl-report-list-table-cell0-3" class="ui-table-cell skin-noGrid-table-cell ui-table-cell-break skin-noGrid-table-cell-break"'+
                            'style="width:16%;" data-control-table="table" data-row="0" data-col="3">'+
                            '<div class="ui-table-cell-text skin-noGrid-table-cell-text">'+
                            '<span id="ctrl-report-list-table-cell-textfield-0-3">'+
                            '<p class="base-item">'+
                            item[i].clickCountSum+
                            '</p>'+
                            '</span>'+
                            '</div>'+
                            '</td>'+
                            '<td id="ctrl-report-list-table-cell0-4" class="ui-table-cell skin-noGrid-table-cell ui-table-cell-break skin-noGrid-table-cell-break"'+
                            'style="width:16%;" data-control-table="table" data-row="0" data-col="4">'+
                            '<div class="ui-table-cell-text skin-noGrid-table-cell-text">'+
                            '<span id="ctrl-report-list-table-cell-textfield-0-4">'+
                            '<p class="base-item">'+
                            (item[i].ctr ? item[i].ctr : '--')+
                            '</p>'+
                            '</span>'+
                            '</div>'+
                            '</td>'+
                            '<td id="ctrl-report-list-table-cell0-5" class="ui-table-cell skin-noGrid-table-cell ui-table-cell-break skin-noGrid-table-cell-break"'+
                            'style="width:16%;" data-control-table="table" data-row="0" data-col="5">'+
                            '<div class="ui-table-cell-text skin-noGrid-table-cell-text">'+
                            '<span id="ctrl-report-list-table-cell-textfield-0-5">'+
                            '<p class="base-item">'+
                            (item[i].ecpm ? item[i].ecpm : '--')+
                            '</p>'+
                            '</span>'+
                            '</div>'+
                            '</td>'+
                            '<td id="ctrl-report-list-table-cell0-6" class="ui-table-cell skin-noGrid-table-cell ui-table-cell-break skin-noGrid-table-cell-break"'+
                            'style="width:16%;" data-control-table="table" data-row="0" data-col="6">'+
                            '<div class="ui-table-cell-text skin-noGrid-table-cell-text ui-table-cell-text-last skin-noGrid-table-cell-text-last">'+
                            '<span id="ctrl-report-list-table-cell-textfield-0-6">'+
                            '<p class="base-item">'+
                            (item[i].incomeSum ? item[i].incomeSum : '--')+
                            '</p>'+
                            '</span>'+
                            '</div>'+
                            '</td>'+
                            '</tr>'+
                            '</tbody>'+
                            '</table>'+
                            '</div>'+
                            '';
                            tbody += codeSelect(item[i].name, item[i].id);
                }
                $('#pager-count').html('共 '+totalCount+' 条');
                $('#todayTable').html(html);
                $('#reportTbody').html(tbody);
                // console.log(clickCountSumList);
                // 基于准备好的dom，初始化echarts实例
// console.log(clickCountSumList, ctrList, ecpmList, incomeSumLit, viewCountSumList, itemName);
                pageCount = Math.ceil(item.length / pageSize);
                initPage();

                // console.log(clickCountSumList);
                // 基于准备好的dom，初始化echarts实例
                // console.log(clickCountSumList, ctrList, ecpmList, incomeSumLit, viewCountSumList, itemName);

                if(codeLocationIdJsonArr) return;
                initEChart(clickCountSumListEcharts, ctrListEcharts, ecpmListEcharts, incomeSumLitEcharts, pageViewCountSumListEcharts, viewCountSumListEcharts, echartsX);
            },
            error: function(err) {
                // alert('请求失败');
            }
        });
    }

    function codeSelect(name, id) {
        return '<tr id="ctrl-report-list" class="ui-richselector-row" index="108" value="'+id+'">'+
            '<td class="ui-richselector-row-field" title="" style="width:0px;">'+
            '</td>'+
            '<td class="ui-richselector-row-field" title="'+name+'" style="width:undefinedpx;">'+
            name+
            '</td>'+
            '<td style="width:30px;">'+
            '<span class="ui-richselector-row-action-icon">'+
            '</span>'+
            '</td>'+
        '</tr>';
        
    }

    function initEChart(clickCountSumListEcharts, ctrListEcharts, ecpmListEcharts, incomeSumLitEcharts, pageViewCountSumListEcharts, viewCountSumListEcharts, echartsX) {
        option = {
                tooltip: {//提示框组件
                    trigger: 'axis',
                    enterable: true, //鼠标是否可进入提示框浮层中
                    confine: false,//是否将 tooltip 框限制在图表的区域内
                    textStyle: {
                        fontSize: '12/0',
                    },
                    formatter: function(params) {

                        var result = params[0].axisValue +'<br/>';
                        //提示模板拼接;
                    　　params.forEach(function (item) {
                    　　　　result += '<span style="display:inline-block;margin-right:5px;border-radius:1px;width:10px;height:10px;background-color:'+item.color+'"></span>'+
                                      item.seriesName+'：'+item.data+'<br/>'
                    　　})
                    　　return result;
                    }
                },
                xAxis : [
                    {
                        show: true,
                        minInterval: 1,
                        type : 'category',
                        axisLine: {show: true},
                        boundaryGap : true,
                        axisTick: {show: false},
                        splitLine:{show: true},//去除网格线
                        splitArea : {show : false},//保留网格区域
                        data : echartsX,
                        axisLabel: {
                             formatter: function(value) {
                                 var res = value;
                                 if(res.length > 4) {
                                     res = res.substring(0, 3) + "...";
                                 }
                                 return res;
                            }
                        },
                        axisTick: {
                            length: 10
                        }
                    }
                ],
                axisPointer: {
                    lineStyle: {
                        width: '2',
                        color: '#5F99C5'
                    },
                },
                grid: {
                    show: true
                },
                yAxis : [{
                            type:'value',
                            axisLine: {show: true},
                            boundaryGap : true,
                            axisTick: {show: false},//y轴刻度线
                            splitLine:{show: false},//去除网格线
                            splitArea : {show : false},//保留网格区域
                            axisLabel: {
                                align: 'center',
                                color: '#B2B2B2',
                                Zindex: '999'
                            }
                }],
                axisLine: {
                    show: false
                },
                legend: {
                    show: false,
                    data:['代码位展现量','点击量','点击率','eCPM','收入'],
                    selected: {
                        '代码位展现量': showVc,
                        '点击量': showClk,
                        '点击率': showCtr,
                        'eCPM': showEcpm,
                        '收入': showIcm
                    },
                },
                toolbox: {
                    show: false,
                    feature: {
                        saveAsImage: {}
                    }
                },
                series : [
                    {
                        name:'代码位展现量',
                        type:'bar',
                        /*stack: '总量',
                        areaStyle: {},*/
                        barMaxWidth: 25,//最大宽度
                        data: viewCountSumListEcharts,
                        itemStyle: {
                            background: '#4db6ac',
                            color: '#4db6ac'
                        },
                    },
                    {
                        name:'收入',
                        type:'bar',
                        /*stack: '总量',
                        areaStyle: {},*/
                        barMaxWidth: 25,//最大宽度
                        data: incomeSumLitEcharts,
                        itemStyle: {
                            background: 'rgb(253, 34, 34)',
                            color: 'rgb(253, 34, 34)'
                        },
                    },
                    {
                        name:'点击量',
                        type:'bar',
                        /*stack: '总量',
                        areaStyle: {},*/
                        barMaxWidth: 25,//最大宽度
                        data: clickCountSumListEcharts,
                        itemStyle: {
                            background: '#acdd96',
                            color: '#acdd96'
                        },
                    },
                    {
                        name:'点击率',
                        type:'bar',
                        barMaxWidth: 25,//最大宽度
                        /*stack: '总量',
                        areaStyle: {normal: {}},*/
                        data: ctrListEcharts,
                        itemStyle: {
                            background: '#ffd155',
                            color: '#ffd155'
                        },
                    },
                    {
                        name:'eCPM',
                        type:'bar',
                        barMaxWidth: 25,//最大宽度
                        /*stack: '总量',
                        label: {
                            normal: {
                                show: true,
                                position: 'top'
                            }
                        },
                        areaStyle: {normal: {}},*/
                        data: ecpmListEcharts,
                        itemStyle: {
                            background: '#acc1fe',
                            color: '#acc1fe'
                        },
                    }
                ]
            };
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    }

    // ui-boxgroup-wrapper-checked
     window.onload = function() {
        var time = $('#ctrl-default-esui8785925-text').html().split(';')[2];
        $('#ctrl-default-esui8785925-text').html(time);
        var startDate = time.split('至')[0].split(' ')[0];
        var endDate = time.split('至')[1].split(' ')[1];
        var params = {
            startDate: startDate,
            endDate: endDate
        }
        var weekDay = ["周天", "周一", "周二", "周三", "周四", "周五", "周六"];
        var myStartDate = new Date(Date.parse(startDate));
        var myEndDatee = new Date(Date.parse(endDate));
        let chartTime = startDate+' '+weekDay[myStartDate.getDay()]+' ~ '+endDate+' '+weekDay[myEndDatee.getDay()];
        $('.ssp-report-chart-title').html(chartTime);
            ajaxOpt(params);

        $("#ctrl-default-esui8785925-text").bind('DOMNodeInserted', function(e) {
            var editTime = $('#ctrl-default-esui8785925-text').html();
            var startLength = editTime.split('至')[0].split(';').length;
            var editStartDate = startLength == 3 ? editTime.split(';')[2].split(' ')[0] : editTime.split('至')[0].split(' ')[0];
            var editEndDate = editTime.split('至')[1].split(' ')[1];
            var params = {
                startDate: editStartDate,
                endDate: editEndDate
            }
            var myEditStartDate = new Date(Date.parse(editStartDate));
            var myEditEndDatee = new Date(Date.parse(editEndDate));
            let chartTime = editStartDate+' '+weekDay[myEditStartDate.getDay()]+' ~ '+editEndDate+' '+weekDay[myEditEndDatee.getDay()];
            $('.ssp-report-chart-title').html(chartTime);
            ajaxOpt(params);
             $('#ctrl-default-esui8785925-text').html(editTime.split(';')[2]);
        });
        $('#reportTbody').on('click', '#ctrl-report-list', function() {
            // this.removeAttribute('class', 'ui-richselector-row ui-richselector-row-selected');
            $(this).toggleClass('ui-richselector-row ui-richselector-row-selected');
            // this.addClass('ui-boxgroup-wrapper-checked');
        });

        $('#ctrl-report-list-esui8786014').click(function() {
            var items = $('#reportTbody').find('tr');
            codeLocationIdJsonArr = [];
            $.each(items, function(index, item) {
                // console.log(item, index);
                if($(item).hasClass('ui-richselector-row-selected')) {
                    codeLocationIdJsonArr.push($(item).attr('value'));
                }
            });
            setTableData(params, codeLocationIdJsonArr);
            $('.ui-togglesubmitabletablerichselector-layer').hide();
        });

        $('#ctrl-report-list-esui8786429-batch-action-select').click(function() {
            $('.ui-richselector-row').addClass('ui-richselector-row-selected');
            $('.ui-richselector-row').removeClass('ui-richselector-row');
            $(this).hide();
            $('#ctrl-report-list-esui8786429-batch-action-deselect').show();
        });

        $('#ctrl-report-list-esui8786429-batch-action-deselect').click(function() {
            $('.ui-richselector-row-selected').addClass('ui-richselector-row');
            $('.ui-richselector-row-selected').removeClass('ui-richselector-row-selected');
            $(this).hide();
            $('#ctrl-report-list-esui8786429-batch-action-select').show();
        });
        // 代码位搜索
        $('#ctrl-report-list-esui8786433-input').bind("input propertychange change",function(event){
            var value = $(this).val(), result = [], html = '';
            codeItems.forEach(function(item, index) {
                if(item.name.indexOf(value) >= 0) {
                    html += codeSelect(item.name, item.id);
                } 
            });
            $('#reportTbody').html(html);
        });
    }

    function initPage () {
        require(
            [
                'esui',
                'esui/Pager',
                'esui/Tab',
                // 'demo'
            ],
            function (ui, Pager) {

                var pager3 = new Pager({
                        main: document.getElementById('pager-dynamic'),
                        pageSizes: [],
                        count: pageCount,
                        pageSize: pageSize,
                        page: page
                    }
                );
                pager3.render();
                pager3.set('urlTemplate', '/topMenusReport/iframe.html?page=' + (page+1) + '&pageSize=' + pageSize);
            }
        );
    }

    $('#ctrl-report-list-pager-select-wrapper').on('click', function() {
        $(this).find('ol').toggle();
        $('#ctrl-report-list-ctrl-report-list-pager-select').toggleClass('ui-ctrl ui-select');
        $('#ctrl-report-list-ctrl-report-list-pager-select').toggleClass('ui-ctrl ui-select ui-select-active state-active');
    });

    $('#ctrl-default-ctrl-default-test1-select-layer li').on('click', function(e) {
        pageSize = $(this).text();
        $('#ctrl-report-list-ctrl-report-list-pager-select-text').text(pageSize);
        $('.ui-select-item-selected').removeClass('ui-select-item-selected');
        $(this).addClass('ui-select-item-selected');
    })
    $('#ssp-date').on('click', function() {
        var timeDate = $('#ctrl-default-esui8785925-text').html();
        var ctrlAddHtml = '<div id="ctrl-report-cpro-range-side" class="ui-rangecalendar-side">'+
                        '<div class="ui-rangecalendar-label">'+
                        '<h3>'+
                        '日期范围'+
                        '</h3>'+
                        '</div>'+
                        '<div id="ctrl-report-cpro-range-side-body" class="ui-rangecalendar-side-body">'+
                        '<div id="ctrl-report-cpro-range-base-time" class="ui-rangecalendar-base-time">'+
                        timeDate+
                        '</div>'+
                        '<div id="ctrl-report-cpro-range-contrast-time" class="ui-rangecalendar-contrast-time">'+
                        '</div>'+
                        '<div id="ctrl-report-cpro-range-contrast-action" class="ui-rangecalendar-contrast-action">'+
                        '<label title="对比日期范围" class="ui-rangecalendar-contrast-action-check ui-ctrl ui-checkbox"'+
                        'data-ui="type:CheckBox;childName:contrastCheck" data-ctrl-id="esui8785996"'+
                        'id="ctrl-report-cpro-esui8785996" data-ctrl-view-context="report-cpro">'+
                        '<input type="checkbox" name="" id="ctrl-report-cpro-esui8785996-box" value="on"'+
                        'title="对比日期范围">'+
                        '<span id="ctrl-report-cpro-esui8785996-text">'+
                        '对比日期范围'+
                        '</span>'+
                        '</label>'+
                        '<div data-ui="type:Select;childName:contrastSelector" class="ui-rangecalendar-contrast-action-selector ui-ctrl ui-select ui-select-hidden state-hidden"'+
                        'tabindex="0" id="ctrl-report-cpro-esui8785999" data-ctrl-id="esui8785999"'+
                        'data-ctrl-view-context="report-cpro">'+
                        '<span id="ctrl-report-cpro-esui8785999-text" class="ui-select-text">'+
                        '自定义'+
                        '</span>'+
                        '</div>'+
                        '</div>'+
                        '</div>'+
                    '</div>';
        $('#ctrl-report-cpro-range-side').remove();
        $('.ui-rangecalendar-body').append(ctrlAddHtml);
    });

    $('#ctrl-report-chart-chart-serie-selector-serie-body label').on('click', function() {
        $('.ui-boxgroup-wrapper-checked.skin-flat-boxgroup-wrapper-checked').removeClass('ui-boxgroup-wrapper-checked skin-flat-boxgroup-wrapper-checked');
        $(this).addClass('ui-boxgroup-wrapper-checked skin-flat-boxgroup-wrapper-checked');
        // showVc = false, showClk = false, showCtr = true, showEcpm = false, showIcm = false;
        var value = $(this).find('input').val().split(',')[0];
        var color = $(this).find('input').val().split(',')[1];
        var title = $(this).find('input').val().split(',')[2]
        var value = $(this).find('input').val();console.log(value);
        switch(value) {
            case 'ecpm':
                showEcpm = true;
                showVc = false;
                showClk = false;
                showCtr = false;
                showIcm = false;
            break;
            case 'income':
                showIcm = true;
                showVc = false;
                showClk = false;
                showCtr = false;
                showEcpm = false;
            break;
            case 'clickRatio':
                showCtr = true;
                showVc = false;
                showClk = false;
                showIcm = false;
                showEcpm = false;
            break;
            case 'click':
                showClk = true;
                showVc = false;
                showCtr = false;
                showIcm = false;
                showEcpm = false;
            break;
            case 'adPositionView':
                showVc = true;
                showClk = false;
                showCtr = false;
                showIcm = false;
                showEcpm = false;
            break;
        }
        $('#legendColor')[0].style.background = color;
        $('#legendText').html(title);
        // console.log(option);
        option = {
            legend: {
                data:['代码位展现量','点击量','点击率','eCPM','收入'],
                selected: {
                    '代码位展现量': showVc,
                    '点击量': showClk,
                    '点击率': showCtr,
                    'eCPM': showEcpm,
                    '收入': showIcm
                }
            },
        };
        myChart.setOption(option);
    });
    // require(
    //     ['common/ioc'],
    //     function (ioc) {
    //         ioc.getComponent(
    //             ['main'],
    //             function (main) {
    //                 main.start();
    //             }
    //         );
    //     }
    // );
</script>
</body>
</html>